var bt=Object.defineProperty;var st=(a,i,o)=>i in a?bt(a,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[i]=o;var R=(a,i,o)=>(st(a,typeof i!="symbol"?i+"":i,o),o);import{m as h,d as B,r as E,c as tt,t as j,a as dt,o as pt,w as et,b as yt,s as W,e as P,f as y,n as T,u as mt,g as U,h as g,i as w,j as ht,v as kt,k as _,l as Z,p,D as Ot,U as Ct,F as Q,q as S,I as gt,A as It,x as H,P as St,L as Pt,y as vt,z as wt,B as q,C as _t,E as Ut,G as Et,H as Rt,J as Tt}from"./vendor-3bd669b1.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const Dt="modulepreload",Nt=function(a){return"/"+a},Y={},L=function(i,o,e){if(!o||o.length===0)return i();const t=document.getElementsByTagName("link");return Promise.all(o.map(n=>{if(n=Nt(n),n in Y)return;Y[n]=!0;const r=n.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(!!e)for(let k=t.length-1;k>=0;k--){const b=t[k];if(b.href===n&&(!r||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${l}`))return;const C=document.createElement("link");if(C.rel=r?"stylesheet":Dt,r||(C.as="script",C.crossOrigin=""),C.href=n,document.head.appendChild(C),r)return new Promise((k,b)=>{C.addEventListener("load",k),C.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>i()).catch(n=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=n,window.dispatchEvent(r),!r.defaultPrevented)throw n})};const f=h.Reader,v=h.Writer,u=h.util,c=h.roots.default||(h.roots.default={}),O=c.UsbComm=(()=>{const a={};return a.Action=function(){const i={},o=Object.create(i);return o[i[0]="NOP"]=0,o[i[1]="VERSION"]=1,o[i[2]="MOTOR_GET_STATE"]=2,o[i[3]="KNOB_GET_CONFIG"]=3,o[i[4]="KNOB_SET_CONFIG"]=4,o[i[9]="KNOB_UPDATE_PREF"]=9,o[i[5]="RGB_CONTROL"]=5,o[i[6]="RGB_GET_STATE"]=6,o[i[8]="RGB_SET_STATE"]=8,o[i[10]="RGB_GET_INDICATOR"]=10,o[i[11]="RGB_SET_INDICATOR"]=11,o[i[7]="EINK_SET_IMAGE"]=7,o}(),a.MessageH2D=function(){function i(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}i.prototype.action=0,i.prototype.nop=null,i.prototype.knobConfig=null,i.prototype.knobPref=null,i.prototype.rgbControl=null,i.prototype.rgbState=null,i.prototype.rgbIndicator=null,i.prototype.einkImage=null;let o;return Object.defineProperty(i.prototype,"payload",{get:u.oneOfGetter(o=["nop","knobConfig","knobPref","rgbControl","rgbState","rgbIndicator","einkImage"]),set:u.oneOfSetter(o)}),i.create=function(t){return new i(t)},i.encode=function(t,n){return n||(n=v.create()),n.uint32(8).int32(t.action),t.nop!=null&&Object.hasOwnProperty.call(t,"nop")&&c.UsbComm.Nop.encode(t.nop,n.uint32(18).fork()).ldelim(),t.knobConfig!=null&&Object.hasOwnProperty.call(t,"knobConfig")&&c.UsbComm.KnobConfig.encode(t.knobConfig,n.uint32(26).fork()).ldelim(),t.rgbControl!=null&&Object.hasOwnProperty.call(t,"rgbControl")&&c.UsbComm.RgbControl.encode(t.rgbControl,n.uint32(34).fork()).ldelim(),t.einkImage!=null&&Object.hasOwnProperty.call(t,"einkImage")&&c.UsbComm.EinkImage.encode(t.einkImage,n.uint32(42).fork()).ldelim(),t.knobPref!=null&&Object.hasOwnProperty.call(t,"knobPref")&&c.UsbComm.KnobConfig.Pref.encode(t.knobPref,n.uint32(50).fork()).ldelim(),t.rgbState!=null&&Object.hasOwnProperty.call(t,"rgbState")&&c.UsbComm.RgbState.encode(t.rgbState,n.uint32(58).fork()).ldelim(),t.rgbIndicator!=null&&Object.hasOwnProperty.call(t,"rgbIndicator")&&c.UsbComm.RgbIndicator.encode(t.rgbIndicator,n.uint32(66).fork()).ldelim(),n},i.encodeDelimited=function(t,n){return this.encode(t,n).ldelim()},i.decode=function(t,n){t instanceof f||(t=f.create(t));let r=n===void 0?t.len:t.pos+n,l=new c.UsbComm.MessageH2D;for(;t.pos<r;){let d=t.uint32();switch(d>>>3){case 1:{l.action=t.int32();break}case 2:{l.nop=c.UsbComm.Nop.decode(t,t.uint32());break}case 3:{l.knobConfig=c.UsbComm.KnobConfig.decode(t,t.uint32());break}case 6:{l.knobPref=c.UsbComm.KnobConfig.Pref.decode(t,t.uint32());break}case 4:{l.rgbControl=c.UsbComm.RgbControl.decode(t,t.uint32());break}case 7:{l.rgbState=c.UsbComm.RgbState.decode(t,t.uint32());break}case 8:{l.rgbIndicator=c.UsbComm.RgbIndicator.decode(t,t.uint32());break}case 5:{l.einkImage=c.UsbComm.EinkImage.decode(t,t.uint32());break}default:t.skipType(d&7);break}}if(!l.hasOwnProperty("action"))throw u.ProtocolError("missing required 'action'",{instance:l});return l},i.decodeDelimited=function(t){return t instanceof f||(t=new f(t)),this.decode(t,t.uint32())},i.verify=function(t){if(typeof t!="object"||t===null)return"object expected";let n={};switch(t.action){default:return"action: enum value expected";case 0:case 1:case 2:case 3:case 4:case 9:case 5:case 6:case 8:case 10:case 11:case 7:break}if(t.nop!=null&&t.hasOwnProperty("nop")){n.payload=1;{let r=c.UsbComm.Nop.verify(t.nop);if(r)return"nop."+r}}if(t.knobConfig!=null&&t.hasOwnProperty("knobConfig")){if(n.payload===1)return"payload: multiple values";n.payload=1;{let r=c.UsbComm.KnobConfig.verify(t.knobConfig);if(r)return"knobConfig."+r}}if(t.knobPref!=null&&t.hasOwnProperty("knobPref")){if(n.payload===1)return"payload: multiple values";n.payload=1;{let r=c.UsbComm.KnobConfig.Pref.verify(t.knobPref);if(r)return"knobPref."+r}}if(t.rgbControl!=null&&t.hasOwnProperty("rgbControl")){if(n.payload===1)return"payload: multiple values";n.payload=1;{let r=c.UsbComm.RgbControl.verify(t.rgbControl);if(r)return"rgbControl."+r}}if(t.rgbState!=null&&t.hasOwnProperty("rgbState")){if(n.payload===1)return"payload: multiple values";n.payload=1;{let r=c.UsbComm.RgbState.verify(t.rgbState);if(r)return"rgbState."+r}}if(t.rgbIndicator!=null&&t.hasOwnProperty("rgbIndicator")){if(n.payload===1)return"payload: multiple values";n.payload=1;{let r=c.UsbComm.RgbIndicator.verify(t.rgbIndicator);if(r)return"rgbIndicator."+r}}if(t.einkImage!=null&&t.hasOwnProperty("einkImage")){if(n.payload===1)return"payload: multiple values";n.payload=1;{let r=c.UsbComm.EinkImage.verify(t.einkImage);if(r)return"einkImage."+r}}return null},i.fromObject=function(t){if(t instanceof c.UsbComm.MessageH2D)return t;let n=new c.UsbComm.MessageH2D;switch(t.action){default:if(typeof t.action=="number"){n.action=t.action;break}break;case"NOP":case 0:n.action=0;break;case"VERSION":case 1:n.action=1;break;case"MOTOR_GET_STATE":case 2:n.action=2;break;case"KNOB_GET_CONFIG":case 3:n.action=3;break;case"KNOB_SET_CONFIG":case 4:n.action=4;break;case"KNOB_UPDATE_PREF":case 9:n.action=9;break;case"RGB_CONTROL":case 5:n.action=5;break;case"RGB_GET_STATE":case 6:n.action=6;break;case"RGB_SET_STATE":case 8:n.action=8;break;case"RGB_GET_INDICATOR":case 10:n.action=10;break;case"RGB_SET_INDICATOR":case 11:n.action=11;break;case"EINK_SET_IMAGE":case 7:n.action=7;break}if(t.nop!=null){if(typeof t.nop!="object")throw TypeError(".UsbComm.MessageH2D.nop: object expected");n.nop=c.UsbComm.Nop.fromObject(t.nop)}if(t.knobConfig!=null){if(typeof t.knobConfig!="object")throw TypeError(".UsbComm.MessageH2D.knobConfig: object expected");n.knobConfig=c.UsbComm.KnobConfig.fromObject(t.knobConfig)}if(t.knobPref!=null){if(typeof t.knobPref!="object")throw TypeError(".UsbComm.MessageH2D.knobPref: object expected");n.knobPref=c.UsbComm.KnobConfig.Pref.fromObject(t.knobPref)}if(t.rgbControl!=null){if(typeof t.rgbControl!="object")throw TypeError(".UsbComm.MessageH2D.rgbControl: object expected");n.rgbControl=c.UsbComm.RgbControl.fromObject(t.rgbControl)}if(t.rgbState!=null){if(typeof t.rgbState!="object")throw TypeError(".UsbComm.MessageH2D.rgbState: object expected");n.rgbState=c.UsbComm.RgbState.fromObject(t.rgbState)}if(t.rgbIndicator!=null){if(typeof t.rgbIndicator!="object")throw TypeError(".UsbComm.MessageH2D.rgbIndicator: object expected");n.rgbIndicator=c.UsbComm.RgbIndicator.fromObject(t.rgbIndicator)}if(t.einkImage!=null){if(typeof t.einkImage!="object")throw TypeError(".UsbComm.MessageH2D.einkImage: object expected");n.einkImage=c.UsbComm.EinkImage.fromObject(t.einkImage)}return n},i.toObject=function(t,n){n||(n={});let r={};return n.defaults&&(r.action=n.enums===String?"NOP":0),t.action!=null&&t.hasOwnProperty("action")&&(r.action=n.enums===String?c.UsbComm.Action[t.action]===void 0?t.action:c.UsbComm.Action[t.action]:t.action),t.nop!=null&&t.hasOwnProperty("nop")&&(r.nop=c.UsbComm.Nop.toObject(t.nop,n),n.oneofs&&(r.payload="nop")),t.knobConfig!=null&&t.hasOwnProperty("knobConfig")&&(r.knobConfig=c.UsbComm.KnobConfig.toObject(t.knobConfig,n),n.oneofs&&(r.payload="knobConfig")),t.rgbControl!=null&&t.hasOwnProperty("rgbControl")&&(r.rgbControl=c.UsbComm.RgbControl.toObject(t.rgbControl,n),n.oneofs&&(r.payload="rgbControl")),t.einkImage!=null&&t.hasOwnProperty("einkImage")&&(r.einkImage=c.UsbComm.EinkImage.toObject(t.einkImage,n),n.oneofs&&(r.payload="einkImage")),t.knobPref!=null&&t.hasOwnProperty("knobPref")&&(r.knobPref=c.UsbComm.KnobConfig.Pref.toObject(t.knobPref,n),n.oneofs&&(r.payload="knobPref")),t.rgbState!=null&&t.hasOwnProperty("rgbState")&&(r.rgbState=c.UsbComm.RgbState.toObject(t.rgbState,n),n.oneofs&&(r.payload="rgbState")),t.rgbIndicator!=null&&t.hasOwnProperty("rgbIndicator")&&(r.rgbIndicator=c.UsbComm.RgbIndicator.toObject(t.rgbIndicator,n),n.oneofs&&(r.payload="rgbIndicator")),r},i.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},i.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/UsbComm.MessageH2D"},i}(),a.MessageD2H=function(){function i(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}i.prototype.action=0,i.prototype.nop=null,i.prototype.version=null,i.prototype.motorState=null,i.prototype.knobConfig=null,i.prototype.knobPref=null,i.prototype.rgbState=null,i.prototype.rgbIndicator=null,i.prototype.einkImage=null;let o;return Object.defineProperty(i.prototype,"payload",{get:u.oneOfGetter(o=["nop","version","motorState","knobConfig","knobPref","rgbState","rgbIndicator","einkImage"]),set:u.oneOfSetter(o)}),i.create=function(t){return new i(t)},i.encode=function(t,n){return n||(n=v.create()),n.uint32(8).int32(t.action),t.nop!=null&&Object.hasOwnProperty.call(t,"nop")&&c.UsbComm.Nop.encode(t.nop,n.uint32(18).fork()).ldelim(),t.version!=null&&Object.hasOwnProperty.call(t,"version")&&c.UsbComm.Version.encode(t.version,n.uint32(26).fork()).ldelim(),t.motorState!=null&&Object.hasOwnProperty.call(t,"motorState")&&c.UsbComm.MotorState.encode(t.motorState,n.uint32(34).fork()).ldelim(),t.knobConfig!=null&&Object.hasOwnProperty.call(t,"knobConfig")&&c.UsbComm.KnobConfig.encode(t.knobConfig,n.uint32(42).fork()).ldelim(),t.rgbState!=null&&Object.hasOwnProperty.call(t,"rgbState")&&c.UsbComm.RgbState.encode(t.rgbState,n.uint32(50).fork()).ldelim(),t.einkImage!=null&&Object.hasOwnProperty.call(t,"einkImage")&&c.UsbComm.EinkImage.encode(t.einkImage,n.uint32(58).fork()).ldelim(),t.knobPref!=null&&Object.hasOwnProperty.call(t,"knobPref")&&c.UsbComm.KnobConfig.Pref.encode(t.knobPref,n.uint32(66).fork()).ldelim(),t.rgbIndicator!=null&&Object.hasOwnProperty.call(t,"rgbIndicator")&&c.UsbComm.RgbIndicator.encode(t.rgbIndicator,n.uint32(74).fork()).ldelim(),n},i.encodeDelimited=function(t,n){return this.encode(t,n).ldelim()},i.decode=function(t,n){t instanceof f||(t=f.create(t));let r=n===void 0?t.len:t.pos+n,l=new c.UsbComm.MessageD2H;for(;t.pos<r;){let d=t.uint32();switch(d>>>3){case 1:{l.action=t.int32();break}case 2:{l.nop=c.UsbComm.Nop.decode(t,t.uint32());break}case 3:{l.version=c.UsbComm.Version.decode(t,t.uint32());break}case 4:{l.motorState=c.UsbComm.MotorState.decode(t,t.uint32());break}case 5:{l.knobConfig=c.UsbComm.KnobConfig.decode(t,t.uint32());break}case 8:{l.knobPref=c.UsbComm.KnobConfig.Pref.decode(t,t.uint32());break}case 6:{l.rgbState=c.UsbComm.RgbState.decode(t,t.uint32());break}case 9:{l.rgbIndicator=c.UsbComm.RgbIndicator.decode(t,t.uint32());break}case 7:{l.einkImage=c.UsbComm.EinkImage.decode(t,t.uint32());break}default:t.skipType(d&7);break}}if(!l.hasOwnProperty("action"))throw u.ProtocolError("missing required 'action'",{instance:l});return l},i.decodeDelimited=function(t){return t instanceof f||(t=new f(t)),this.decode(t,t.uint32())},i.verify=function(t){if(typeof t!="object"||t===null)return"object expected";let n={};switch(t.action){default:return"action: enum value expected";case 0:case 1:case 2:case 3:case 4:case 9:case 5:case 6:case 8:case 10:case 11:case 7:break}if(t.nop!=null&&t.hasOwnProperty("nop")){n.payload=1;{let r=c.UsbComm.Nop.verify(t.nop);if(r)return"nop."+r}}if(t.version!=null&&t.hasOwnProperty("version")){if(n.payload===1)return"payload: multiple values";n.payload=1;{let r=c.UsbComm.Version.verify(t.version);if(r)return"version."+r}}if(t.motorState!=null&&t.hasOwnProperty("motorState")){if(n.payload===1)return"payload: multiple values";n.payload=1;{let r=c.UsbComm.MotorState.verify(t.motorState);if(r)return"motorState."+r}}if(t.knobConfig!=null&&t.hasOwnProperty("knobConfig")){if(n.payload===1)return"payload: multiple values";n.payload=1;{let r=c.UsbComm.KnobConfig.verify(t.knobConfig);if(r)return"knobConfig."+r}}if(t.knobPref!=null&&t.hasOwnProperty("knobPref")){if(n.payload===1)return"payload: multiple values";n.payload=1;{let r=c.UsbComm.KnobConfig.Pref.verify(t.knobPref);if(r)return"knobPref."+r}}if(t.rgbState!=null&&t.hasOwnProperty("rgbState")){if(n.payload===1)return"payload: multiple values";n.payload=1;{let r=c.UsbComm.RgbState.verify(t.rgbState);if(r)return"rgbState."+r}}if(t.rgbIndicator!=null&&t.hasOwnProperty("rgbIndicator")){if(n.payload===1)return"payload: multiple values";n.payload=1;{let r=c.UsbComm.RgbIndicator.verify(t.rgbIndicator);if(r)return"rgbIndicator."+r}}if(t.einkImage!=null&&t.hasOwnProperty("einkImage")){if(n.payload===1)return"payload: multiple values";n.payload=1;{let r=c.UsbComm.EinkImage.verify(t.einkImage);if(r)return"einkImage."+r}}return null},i.fromObject=function(t){if(t instanceof c.UsbComm.MessageD2H)return t;let n=new c.UsbComm.MessageD2H;switch(t.action){default:if(typeof t.action=="number"){n.action=t.action;break}break;case"NOP":case 0:n.action=0;break;case"VERSION":case 1:n.action=1;break;case"MOTOR_GET_STATE":case 2:n.action=2;break;case"KNOB_GET_CONFIG":case 3:n.action=3;break;case"KNOB_SET_CONFIG":case 4:n.action=4;break;case"KNOB_UPDATE_PREF":case 9:n.action=9;break;case"RGB_CONTROL":case 5:n.action=5;break;case"RGB_GET_STATE":case 6:n.action=6;break;case"RGB_SET_STATE":case 8:n.action=8;break;case"RGB_GET_INDICATOR":case 10:n.action=10;break;case"RGB_SET_INDICATOR":case 11:n.action=11;break;case"EINK_SET_IMAGE":case 7:n.action=7;break}if(t.nop!=null){if(typeof t.nop!="object")throw TypeError(".UsbComm.MessageD2H.nop: object expected");n.nop=c.UsbComm.Nop.fromObject(t.nop)}if(t.version!=null){if(typeof t.version!="object")throw TypeError(".UsbComm.MessageD2H.version: object expected");n.version=c.UsbComm.Version.fromObject(t.version)}if(t.motorState!=null){if(typeof t.motorState!="object")throw TypeError(".UsbComm.MessageD2H.motorState: object expected");n.motorState=c.UsbComm.MotorState.fromObject(t.motorState)}if(t.knobConfig!=null){if(typeof t.knobConfig!="object")throw TypeError(".UsbComm.MessageD2H.knobConfig: object expected");n.knobConfig=c.UsbComm.KnobConfig.fromObject(t.knobConfig)}if(t.knobPref!=null){if(typeof t.knobPref!="object")throw TypeError(".UsbComm.MessageD2H.knobPref: object expected");n.knobPref=c.UsbComm.KnobConfig.Pref.fromObject(t.knobPref)}if(t.rgbState!=null){if(typeof t.rgbState!="object")throw TypeError(".UsbComm.MessageD2H.rgbState: object expected");n.rgbState=c.UsbComm.RgbState.fromObject(t.rgbState)}if(t.rgbIndicator!=null){if(typeof t.rgbIndicator!="object")throw TypeError(".UsbComm.MessageD2H.rgbIndicator: object expected");n.rgbIndicator=c.UsbComm.RgbIndicator.fromObject(t.rgbIndicator)}if(t.einkImage!=null){if(typeof t.einkImage!="object")throw TypeError(".UsbComm.MessageD2H.einkImage: object expected");n.einkImage=c.UsbComm.EinkImage.fromObject(t.einkImage)}return n},i.toObject=function(t,n){n||(n={});let r={};return n.defaults&&(r.action=n.enums===String?"NOP":0),t.action!=null&&t.hasOwnProperty("action")&&(r.action=n.enums===String?c.UsbComm.Action[t.action]===void 0?t.action:c.UsbComm.Action[t.action]:t.action),t.nop!=null&&t.hasOwnProperty("nop")&&(r.nop=c.UsbComm.Nop.toObject(t.nop,n),n.oneofs&&(r.payload="nop")),t.version!=null&&t.hasOwnProperty("version")&&(r.version=c.UsbComm.Version.toObject(t.version,n),n.oneofs&&(r.payload="version")),t.motorState!=null&&t.hasOwnProperty("motorState")&&(r.motorState=c.UsbComm.MotorState.toObject(t.motorState,n),n.oneofs&&(r.payload="motorState")),t.knobConfig!=null&&t.hasOwnProperty("knobConfig")&&(r.knobConfig=c.UsbComm.KnobConfig.toObject(t.knobConfig,n),n.oneofs&&(r.payload="knobConfig")),t.rgbState!=null&&t.hasOwnProperty("rgbState")&&(r.rgbState=c.UsbComm.RgbState.toObject(t.rgbState,n),n.oneofs&&(r.payload="rgbState")),t.einkImage!=null&&t.hasOwnProperty("einkImage")&&(r.einkImage=c.UsbComm.EinkImage.toObject(t.einkImage,n),n.oneofs&&(r.payload="einkImage")),t.knobPref!=null&&t.hasOwnProperty("knobPref")&&(r.knobPref=c.UsbComm.KnobConfig.Pref.toObject(t.knobPref,n),n.oneofs&&(r.payload="knobPref")),t.rgbIndicator!=null&&t.hasOwnProperty("rgbIndicator")&&(r.rgbIndicator=c.UsbComm.RgbIndicator.toObject(t.rgbIndicator,n),n.oneofs&&(r.payload="rgbIndicator")),r},i.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},i.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/UsbComm.MessageD2H"},i}(),a.Nop=function(){function i(o){if(o)for(let e=Object.keys(o),t=0;t<e.length;++t)o[e[t]]!=null&&(this[e[t]]=o[e[t]])}return i.create=function(e){return new i(e)},i.encode=function(e,t){return t||(t=v.create()),t},i.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},i.decode=function(e,t){e instanceof f||(e=f.create(e));let n=t===void 0?e.len:e.pos+t,r=new c.UsbComm.Nop;for(;e.pos<n;){let l=e.uint32();switch(l>>>3){default:e.skipType(l&7);break}}return r},i.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},i.verify=function(e){return typeof e!="object"||e===null?"object expected":null},i.fromObject=function(e){return e instanceof c.UsbComm.Nop?e:new c.UsbComm.Nop},i.toObject=function(){return{}},i.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},i.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UsbComm.Nop"},i}(),a.Version=function(){function i(o){if(o)for(let e=Object.keys(o),t=0;t<e.length;++t)o[e[t]]!=null&&(this[e[t]]=o[e[t]])}return i.prototype.zephyrVersion="",i.prototype.zmkVersion="",i.prototype.appVersion="",i.prototype.features=null,i.create=function(e){return new i(e)},i.encode=function(e,t){return t||(t=v.create()),t.uint32(10).string(e.zephyrVersion),t.uint32(18).string(e.zmkVersion),t.uint32(26).string(e.appVersion),e.features!=null&&Object.hasOwnProperty.call(e,"features")&&c.UsbComm.Version.Features.encode(e.features,t.uint32(34).fork()).ldelim(),t},i.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},i.decode=function(e,t){e instanceof f||(e=f.create(e));let n=t===void 0?e.len:e.pos+t,r=new c.UsbComm.Version;for(;e.pos<n;){let l=e.uint32();switch(l>>>3){case 1:{r.zephyrVersion=e.string();break}case 2:{r.zmkVersion=e.string();break}case 3:{r.appVersion=e.string();break}case 4:{r.features=c.UsbComm.Version.Features.decode(e,e.uint32());break}default:e.skipType(l&7);break}}if(!r.hasOwnProperty("zephyrVersion"))throw u.ProtocolError("missing required 'zephyrVersion'",{instance:r});if(!r.hasOwnProperty("zmkVersion"))throw u.ProtocolError("missing required 'zmkVersion'",{instance:r});if(!r.hasOwnProperty("appVersion"))throw u.ProtocolError("missing required 'appVersion'",{instance:r});return r},i.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},i.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(!u.isString(e.zephyrVersion))return"zephyrVersion: string expected";if(!u.isString(e.zmkVersion))return"zmkVersion: string expected";if(!u.isString(e.appVersion))return"appVersion: string expected";if(e.features!=null&&e.hasOwnProperty("features")){let t=c.UsbComm.Version.Features.verify(e.features);if(t)return"features."+t}return null},i.fromObject=function(e){if(e instanceof c.UsbComm.Version)return e;let t=new c.UsbComm.Version;if(e.zephyrVersion!=null&&(t.zephyrVersion=String(e.zephyrVersion)),e.zmkVersion!=null&&(t.zmkVersion=String(e.zmkVersion)),e.appVersion!=null&&(t.appVersion=String(e.appVersion)),e.features!=null){if(typeof e.features!="object")throw TypeError(".UsbComm.Version.features: object expected");t.features=c.UsbComm.Version.Features.fromObject(e.features)}return t},i.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.zephyrVersion="",n.zmkVersion="",n.appVersion="",n.features=null),e.zephyrVersion!=null&&e.hasOwnProperty("zephyrVersion")&&(n.zephyrVersion=e.zephyrVersion),e.zmkVersion!=null&&e.hasOwnProperty("zmkVersion")&&(n.zmkVersion=e.zmkVersion),e.appVersion!=null&&e.hasOwnProperty("appVersion")&&(n.appVersion=e.appVersion),e.features!=null&&e.hasOwnProperty("features")&&(n.features=c.UsbComm.Version.Features.toObject(e.features,t)),n},i.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},i.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UsbComm.Version"},i.Features=function(){function o(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return o.prototype.rgb=!1,o.prototype.rgbFullControl=!1,o.prototype.rgbIndicator=!1,o.prototype.eink=!1,o.prototype.knob=!1,o.prototype.knobPrefs=!1,o.create=function(t){return new o(t)},o.encode=function(t,n){return n||(n=v.create()),t.rgb!=null&&Object.hasOwnProperty.call(t,"rgb")&&n.uint32(8).bool(t.rgb),t.eink!=null&&Object.hasOwnProperty.call(t,"eink")&&n.uint32(16).bool(t.eink),t.knob!=null&&Object.hasOwnProperty.call(t,"knob")&&n.uint32(24).bool(t.knob),t.knobPrefs!=null&&Object.hasOwnProperty.call(t,"knobPrefs")&&n.uint32(32).bool(t.knobPrefs),t.rgbFullControl!=null&&Object.hasOwnProperty.call(t,"rgbFullControl")&&n.uint32(40).bool(t.rgbFullControl),t.rgbIndicator!=null&&Object.hasOwnProperty.call(t,"rgbIndicator")&&n.uint32(48).bool(t.rgbIndicator),n},o.encodeDelimited=function(t,n){return this.encode(t,n).ldelim()},o.decode=function(t,n){t instanceof f||(t=f.create(t));let r=n===void 0?t.len:t.pos+n,l=new c.UsbComm.Version.Features;for(;t.pos<r;){let d=t.uint32();switch(d>>>3){case 1:{l.rgb=t.bool();break}case 5:{l.rgbFullControl=t.bool();break}case 6:{l.rgbIndicator=t.bool();break}case 2:{l.eink=t.bool();break}case 3:{l.knob=t.bool();break}case 4:{l.knobPrefs=t.bool();break}default:t.skipType(d&7);break}}return l},o.decodeDelimited=function(t){return t instanceof f||(t=new f(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.rgb!=null&&t.hasOwnProperty("rgb")&&typeof t.rgb!="boolean"?"rgb: boolean expected":t.rgbFullControl!=null&&t.hasOwnProperty("rgbFullControl")&&typeof t.rgbFullControl!="boolean"?"rgbFullControl: boolean expected":t.rgbIndicator!=null&&t.hasOwnProperty("rgbIndicator")&&typeof t.rgbIndicator!="boolean"?"rgbIndicator: boolean expected":t.eink!=null&&t.hasOwnProperty("eink")&&typeof t.eink!="boolean"?"eink: boolean expected":t.knob!=null&&t.hasOwnProperty("knob")&&typeof t.knob!="boolean"?"knob: boolean expected":t.knobPrefs!=null&&t.hasOwnProperty("knobPrefs")&&typeof t.knobPrefs!="boolean"?"knobPrefs: boolean expected":null},o.fromObject=function(t){if(t instanceof c.UsbComm.Version.Features)return t;let n=new c.UsbComm.Version.Features;return t.rgb!=null&&(n.rgb=!!t.rgb),t.rgbFullControl!=null&&(n.rgbFullControl=!!t.rgbFullControl),t.rgbIndicator!=null&&(n.rgbIndicator=!!t.rgbIndicator),t.eink!=null&&(n.eink=!!t.eink),t.knob!=null&&(n.knob=!!t.knob),t.knobPrefs!=null&&(n.knobPrefs=!!t.knobPrefs),n},o.toObject=function(t,n){n||(n={});let r={};return n.defaults&&(r.rgb=!1,r.eink=!1,r.knob=!1,r.knobPrefs=!1,r.rgbFullControl=!1,r.rgbIndicator=!1),t.rgb!=null&&t.hasOwnProperty("rgb")&&(r.rgb=t.rgb),t.eink!=null&&t.hasOwnProperty("eink")&&(r.eink=t.eink),t.knob!=null&&t.hasOwnProperty("knob")&&(r.knob=t.knob),t.knobPrefs!=null&&t.hasOwnProperty("knobPrefs")&&(r.knobPrefs=t.knobPrefs),t.rgbFullControl!=null&&t.hasOwnProperty("rgbFullControl")&&(r.rgbFullControl=t.rgbFullControl),t.rgbIndicator!=null&&t.hasOwnProperty("rgbIndicator")&&(r.rgbIndicator=t.rgbIndicator),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/UsbComm.Version.Features"},o}(),i}(),a.MotorState=function(){function i(o){if(o)for(let e=Object.keys(o),t=0;t<e.length;++t)o[e[t]]!=null&&(this[e[t]]=o[e[t]])}return i.prototype.timestamp=0,i.prototype.controlMode=0,i.prototype.currentAngle=0,i.prototype.currentVelocity=0,i.prototype.targetAngle=0,i.prototype.targetVelocity=0,i.prototype.targetVoltage=0,i.create=function(e){return new i(e)},i.encode=function(e,t){return t||(t=v.create()),t.uint32(8).uint32(e.timestamp),t.uint32(16).int32(e.controlMode),t.uint32(29).float(e.currentAngle),t.uint32(37).float(e.currentVelocity),t.uint32(45).float(e.targetAngle),t.uint32(53).float(e.targetVelocity),t.uint32(61).float(e.targetVoltage),t},i.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},i.decode=function(e,t){e instanceof f||(e=f.create(e));let n=t===void 0?e.len:e.pos+t,r=new c.UsbComm.MotorState;for(;e.pos<n;){let l=e.uint32();switch(l>>>3){case 1:{r.timestamp=e.uint32();break}case 2:{r.controlMode=e.int32();break}case 3:{r.currentAngle=e.float();break}case 4:{r.currentVelocity=e.float();break}case 5:{r.targetAngle=e.float();break}case 6:{r.targetVelocity=e.float();break}case 7:{r.targetVoltage=e.float();break}default:e.skipType(l&7);break}}if(!r.hasOwnProperty("timestamp"))throw u.ProtocolError("missing required 'timestamp'",{instance:r});if(!r.hasOwnProperty("controlMode"))throw u.ProtocolError("missing required 'controlMode'",{instance:r});if(!r.hasOwnProperty("currentAngle"))throw u.ProtocolError("missing required 'currentAngle'",{instance:r});if(!r.hasOwnProperty("currentVelocity"))throw u.ProtocolError("missing required 'currentVelocity'",{instance:r});if(!r.hasOwnProperty("targetAngle"))throw u.ProtocolError("missing required 'targetAngle'",{instance:r});if(!r.hasOwnProperty("targetVelocity"))throw u.ProtocolError("missing required 'targetVelocity'",{instance:r});if(!r.hasOwnProperty("targetVoltage"))throw u.ProtocolError("missing required 'targetVoltage'",{instance:r});return r},i.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},i.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(!u.isInteger(e.timestamp))return"timestamp: integer expected";switch(e.controlMode){default:return"controlMode: enum value expected";case 0:case 1:case 2:break}return typeof e.currentAngle!="number"?"currentAngle: number expected":typeof e.currentVelocity!="number"?"currentVelocity: number expected":typeof e.targetAngle!="number"?"targetAngle: number expected":typeof e.targetVelocity!="number"?"targetVelocity: number expected":typeof e.targetVoltage!="number"?"targetVoltage: number expected":null},i.fromObject=function(e){if(e instanceof c.UsbComm.MotorState)return e;let t=new c.UsbComm.MotorState;switch(e.timestamp!=null&&(t.timestamp=e.timestamp>>>0),e.controlMode){default:if(typeof e.controlMode=="number"){t.controlMode=e.controlMode;break}break;case"TORQUE":case 0:t.controlMode=0;break;case"VELOCITY":case 1:t.controlMode=1;break;case"ANGLE":case 2:t.controlMode=2;break}return e.currentAngle!=null&&(t.currentAngle=Number(e.currentAngle)),e.currentVelocity!=null&&(t.currentVelocity=Number(e.currentVelocity)),e.targetAngle!=null&&(t.targetAngle=Number(e.targetAngle)),e.targetVelocity!=null&&(t.targetVelocity=Number(e.targetVelocity)),e.targetVoltage!=null&&(t.targetVoltage=Number(e.targetVoltage)),t},i.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.timestamp=0,n.controlMode=t.enums===String?"TORQUE":0,n.currentAngle=0,n.currentVelocity=0,n.targetAngle=0,n.targetVelocity=0,n.targetVoltage=0),e.timestamp!=null&&e.hasOwnProperty("timestamp")&&(n.timestamp=e.timestamp),e.controlMode!=null&&e.hasOwnProperty("controlMode")&&(n.controlMode=t.enums===String?c.UsbComm.MotorState.ControlMode[e.controlMode]===void 0?e.controlMode:c.UsbComm.MotorState.ControlMode[e.controlMode]:e.controlMode),e.currentAngle!=null&&e.hasOwnProperty("currentAngle")&&(n.currentAngle=t.json&&!isFinite(e.currentAngle)?String(e.currentAngle):e.currentAngle),e.currentVelocity!=null&&e.hasOwnProperty("currentVelocity")&&(n.currentVelocity=t.json&&!isFinite(e.currentVelocity)?String(e.currentVelocity):e.currentVelocity),e.targetAngle!=null&&e.hasOwnProperty("targetAngle")&&(n.targetAngle=t.json&&!isFinite(e.targetAngle)?String(e.targetAngle):e.targetAngle),e.targetVelocity!=null&&e.hasOwnProperty("targetVelocity")&&(n.targetVelocity=t.json&&!isFinite(e.targetVelocity)?String(e.targetVelocity):e.targetVelocity),e.targetVoltage!=null&&e.hasOwnProperty("targetVoltage")&&(n.targetVoltage=t.json&&!isFinite(e.targetVoltage)?String(e.targetVoltage):e.targetVoltage),n},i.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},i.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UsbComm.MotorState"},i.ControlMode=function(){const o={},e=Object.create(o);return e[o[0]="TORQUE"]=0,e[o[1]="VELOCITY"]=1,e[o[2]="ANGLE"]=2,e}(),i}(),a.KnobConfig=function(){function i(o){if(this.prefs=[],o)for(let e=Object.keys(o),t=0;t<e.length;++t)o[e[t]]!=null&&(this[e[t]]=o[e[t]])}return i.prototype.demo=!1,i.prototype.mode=0,i.prototype.prefs=u.emptyArray,i.create=function(e){return new i(e)},i.encode=function(e,t){if(t||(t=v.create()),t.uint32(8).bool(e.demo),t.uint32(16).int32(e.mode),e.prefs!=null&&e.prefs.length)for(let n=0;n<e.prefs.length;++n)c.UsbComm.KnobConfig.Pref.encode(e.prefs[n],t.uint32(42).fork()).ldelim();return t},i.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},i.decode=function(e,t){e instanceof f||(e=f.create(e));let n=t===void 0?e.len:e.pos+t,r=new c.UsbComm.KnobConfig;for(;e.pos<n;){let l=e.uint32();switch(l>>>3){case 1:{r.demo=e.bool();break}case 2:{r.mode=e.int32();break}case 5:{r.prefs&&r.prefs.length||(r.prefs=[]),r.prefs.push(c.UsbComm.KnobConfig.Pref.decode(e,e.uint32()));break}default:e.skipType(l&7);break}}if(!r.hasOwnProperty("demo"))throw u.ProtocolError("missing required 'demo'",{instance:r});if(!r.hasOwnProperty("mode"))throw u.ProtocolError("missing required 'mode'",{instance:r});return r},i.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},i.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(typeof e.demo!="boolean")return"demo: boolean expected";switch(e.mode){default:return"mode: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:break}if(e.prefs!=null&&e.hasOwnProperty("prefs")){if(!Array.isArray(e.prefs))return"prefs: array expected";for(let t=0;t<e.prefs.length;++t){let n=c.UsbComm.KnobConfig.Pref.verify(e.prefs[t]);if(n)return"prefs."+n}}return null},i.fromObject=function(e){if(e instanceof c.UsbComm.KnobConfig)return e;let t=new c.UsbComm.KnobConfig;switch(e.demo!=null&&(t.demo=!!e.demo),e.mode){default:if(typeof e.mode=="number"){t.mode=e.mode;break}break;case"DISABLE":case 0:t.mode=0;break;case"INERTIA":case 1:t.mode=1;break;case"ENCODER":case 2:t.mode=2;break;case"SPRING":case 3:t.mode=3;break;case"DAMPED":case 4:t.mode=4;break;case"SPIN":case 5:t.mode=5;break;case"RATCHET":case 6:t.mode=6;break}if(e.prefs){if(!Array.isArray(e.prefs))throw TypeError(".UsbComm.KnobConfig.prefs: array expected");t.prefs=[];for(let n=0;n<e.prefs.length;++n){if(typeof e.prefs[n]!="object")throw TypeError(".UsbComm.KnobConfig.prefs: object expected");t.prefs[n]=c.UsbComm.KnobConfig.Pref.fromObject(e.prefs[n])}}return t},i.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.prefs=[]),t.defaults&&(n.demo=!1,n.mode=t.enums===String?"DISABLE":0),e.demo!=null&&e.hasOwnProperty("demo")&&(n.demo=e.demo),e.mode!=null&&e.hasOwnProperty("mode")&&(n.mode=t.enums===String?c.UsbComm.KnobConfig.Mode[e.mode]===void 0?e.mode:c.UsbComm.KnobConfig.Mode[e.mode]:e.mode),e.prefs&&e.prefs.length){n.prefs=[];for(let r=0;r<e.prefs.length;++r)n.prefs[r]=c.UsbComm.KnobConfig.Pref.toObject(e.prefs[r],t)}return n},i.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},i.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UsbComm.KnobConfig"},i.Mode=function(){const o={},e=Object.create(o);return e[o[0]="DISABLE"]=0,e[o[1]="INERTIA"]=1,e[o[2]="ENCODER"]=2,e[o[3]="SPRING"]=3,e[o[4]="DAMPED"]=4,e[o[5]="SPIN"]=5,e[o[6]="RATCHET"]=6,e}(),i.Pref=function(){function o(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return o.prototype.layerId=0,o.prototype.layerName="",o.prototype.active=!1,o.prototype.mode=0,o.prototype.ppr=0,o.prototype.torqueLimit=0,o.create=function(t){return new o(t)},o.encode=function(t,n){return n||(n=v.create()),n.uint32(8).uint32(t.layerId),t.layerName!=null&&Object.hasOwnProperty.call(t,"layerName")&&n.uint32(18).string(t.layerName),n.uint32(24).bool(t.active),t.mode!=null&&Object.hasOwnProperty.call(t,"mode")&&n.uint32(32).int32(t.mode),t.ppr!=null&&Object.hasOwnProperty.call(t,"ppr")&&n.uint32(40).uint32(t.ppr),t.torqueLimit!=null&&Object.hasOwnProperty.call(t,"torqueLimit")&&n.uint32(53).float(t.torqueLimit),n},o.encodeDelimited=function(t,n){return this.encode(t,n).ldelim()},o.decode=function(t,n){t instanceof f||(t=f.create(t));let r=n===void 0?t.len:t.pos+n,l=new c.UsbComm.KnobConfig.Pref;for(;t.pos<r;){let d=t.uint32();switch(d>>>3){case 1:{l.layerId=t.uint32();break}case 2:{l.layerName=t.string();break}case 3:{l.active=t.bool();break}case 4:{l.mode=t.int32();break}case 5:{l.ppr=t.uint32();break}case 6:{l.torqueLimit=t.float();break}default:t.skipType(d&7);break}}if(!l.hasOwnProperty("layerId"))throw u.ProtocolError("missing required 'layerId'",{instance:l});if(!l.hasOwnProperty("active"))throw u.ProtocolError("missing required 'active'",{instance:l});return l},o.decodeDelimited=function(t){return t instanceof f||(t=new f(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(!u.isInteger(t.layerId))return"layerId: integer expected";if(t.layerName!=null&&t.hasOwnProperty("layerName")&&!u.isString(t.layerName))return"layerName: string expected";if(typeof t.active!="boolean")return"active: boolean expected";if(t.mode!=null&&t.hasOwnProperty("mode"))switch(t.mode){default:return"mode: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:break}return t.ppr!=null&&t.hasOwnProperty("ppr")&&!u.isInteger(t.ppr)?"ppr: integer expected":t.torqueLimit!=null&&t.hasOwnProperty("torqueLimit")&&typeof t.torqueLimit!="number"?"torqueLimit: number expected":null},o.fromObject=function(t){if(t instanceof c.UsbComm.KnobConfig.Pref)return t;let n=new c.UsbComm.KnobConfig.Pref;switch(t.layerId!=null&&(n.layerId=t.layerId>>>0),t.layerName!=null&&(n.layerName=String(t.layerName)),t.active!=null&&(n.active=!!t.active),t.mode){default:if(typeof t.mode=="number"){n.mode=t.mode;break}break;case"DISABLE":case 0:n.mode=0;break;case"INERTIA":case 1:n.mode=1;break;case"ENCODER":case 2:n.mode=2;break;case"SPRING":case 3:n.mode=3;break;case"DAMPED":case 4:n.mode=4;break;case"SPIN":case 5:n.mode=5;break;case"RATCHET":case 6:n.mode=6;break}return t.ppr!=null&&(n.ppr=t.ppr>>>0),t.torqueLimit!=null&&(n.torqueLimit=Number(t.torqueLimit)),n},o.toObject=function(t,n){n||(n={});let r={};return n.defaults&&(r.layerId=0,r.layerName="",r.active=!1,r.mode=n.enums===String?"DISABLE":0,r.ppr=0,r.torqueLimit=0),t.layerId!=null&&t.hasOwnProperty("layerId")&&(r.layerId=t.layerId),t.layerName!=null&&t.hasOwnProperty("layerName")&&(r.layerName=t.layerName),t.active!=null&&t.hasOwnProperty("active")&&(r.active=t.active),t.mode!=null&&t.hasOwnProperty("mode")&&(r.mode=n.enums===String?c.UsbComm.KnobConfig.Mode[t.mode]===void 0?t.mode:c.UsbComm.KnobConfig.Mode[t.mode]:t.mode),t.ppr!=null&&t.hasOwnProperty("ppr")&&(r.ppr=t.ppr),t.torqueLimit!=null&&t.hasOwnProperty("torqueLimit")&&(r.torqueLimit=n.json&&!isFinite(t.torqueLimit)?String(t.torqueLimit):t.torqueLimit),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/UsbComm.KnobConfig.Pref"},o}(),i}(),a.RgbControl=function(){function i(o){if(o)for(let e=Object.keys(o),t=0;t<e.length;++t)o[e[t]]!=null&&(this[e[t]]=o[e[t]])}return i.prototype.command=1,i.create=function(e){return new i(e)},i.encode=function(e,t){return t||(t=v.create()),t.uint32(8).int32(e.command),t},i.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},i.decode=function(e,t){e instanceof f||(e=f.create(e));let n=t===void 0?e.len:e.pos+t,r=new c.UsbComm.RgbControl;for(;e.pos<n;){let l=e.uint32();switch(l>>>3){case 1:{r.command=e.int32();break}default:e.skipType(l&7);break}}if(!r.hasOwnProperty("command"))throw u.ProtocolError("missing required 'command'",{instance:r});return r},i.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},i.verify=function(e){if(typeof e!="object"||e===null)return"object expected";switch(e.command){default:return"command: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:break}return null},i.fromObject=function(e){if(e instanceof c.UsbComm.RgbControl)return e;let t=new c.UsbComm.RgbControl;switch(e.command){default:if(typeof e.command=="number"){t.command=e.command;break}break;case"RGB_ON":case 1:t.command=1;break;case"RGB_OFF":case 2:t.command=2;break;case"RGB_HUI":case 3:t.command=3;break;case"RGB_HUD":case 4:t.command=4;break;case"RGB_SAI":case 5:t.command=5;break;case"RGB_SAD":case 6:t.command=6;break;case"RGB_BRI":case 7:t.command=7;break;case"RGB_BRD":case 8:t.command=8;break;case"RGB_SPI":case 9:t.command=9;break;case"RGB_SPD":case 10:t.command=10;break;case"RGB_EFF":case 11:t.command=11;break;case"RGB_EFR":case 12:t.command=12;break}return t},i.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.command=t.enums===String?"RGB_ON":1),e.command!=null&&e.hasOwnProperty("command")&&(n.command=t.enums===String?c.UsbComm.RgbControl.Command[e.command]===void 0?e.command:c.UsbComm.RgbControl.Command[e.command]:e.command),n},i.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},i.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UsbComm.RgbControl"},i.Command=function(){const o={},e=Object.create(o);return e[o[1]="RGB_ON"]=1,e[o[2]="RGB_OFF"]=2,e[o[3]="RGB_HUI"]=3,e[o[4]="RGB_HUD"]=4,e[o[5]="RGB_SAI"]=5,e[o[6]="RGB_SAD"]=6,e[o[7]="RGB_BRI"]=7,e[o[8]="RGB_BRD"]=8,e[o[9]="RGB_SPI"]=9,e[o[10]="RGB_SPD"]=10,e[o[11]="RGB_EFF"]=11,e[o[12]="RGB_EFR"]=12,e}(),i}(),a.RgbState=function(){function i(o){if(o)for(let e=Object.keys(o),t=0;t<e.length;++t)o[e[t]]!=null&&(this[e[t]]=o[e[t]])}return i.prototype.on=!1,i.prototype.color=null,i.prototype.effect=0,i.prototype.speed=0,i.create=function(e){return new i(e)},i.encode=function(e,t){return t||(t=v.create()),t.uint32(8).bool(e.on),e.color!=null&&Object.hasOwnProperty.call(e,"color")&&c.UsbComm.RgbState.HSB.encode(e.color,t.uint32(18).fork()).ldelim(),e.effect!=null&&Object.hasOwnProperty.call(e,"effect")&&t.uint32(24).int32(e.effect),e.speed!=null&&Object.hasOwnProperty.call(e,"speed")&&t.uint32(32).uint32(e.speed),t},i.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},i.decode=function(e,t){e instanceof f||(e=f.create(e));let n=t===void 0?e.len:e.pos+t,r=new c.UsbComm.RgbState;for(;e.pos<n;){let l=e.uint32();switch(l>>>3){case 1:{r.on=e.bool();break}case 2:{r.color=c.UsbComm.RgbState.HSB.decode(e,e.uint32());break}case 3:{r.effect=e.int32();break}case 4:{r.speed=e.uint32();break}default:e.skipType(l&7);break}}if(!r.hasOwnProperty("on"))throw u.ProtocolError("missing required 'on'",{instance:r});return r},i.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},i.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(typeof e.on!="boolean")return"on: boolean expected";if(e.color!=null&&e.hasOwnProperty("color")){let t=c.UsbComm.RgbState.HSB.verify(e.color);if(t)return"color."+t}if(e.effect!=null&&e.hasOwnProperty("effect"))switch(e.effect){default:return"effect: enum value expected";case 0:case 1:case 2:case 3:break}return e.speed!=null&&e.hasOwnProperty("speed")&&!u.isInteger(e.speed)?"speed: integer expected":null},i.fromObject=function(e){if(e instanceof c.UsbComm.RgbState)return e;let t=new c.UsbComm.RgbState;if(e.on!=null&&(t.on=!!e.on),e.color!=null){if(typeof e.color!="object")throw TypeError(".UsbComm.RgbState.color: object expected");t.color=c.UsbComm.RgbState.HSB.fromObject(e.color)}switch(e.effect){default:if(typeof e.effect=="number"){t.effect=e.effect;break}break;case"SOLID":case 0:t.effect=0;break;case"BREATHE":case 1:t.effect=1;break;case"SPECTRUM":case 2:t.effect=2;break;case"SWIRL":case 3:t.effect=3;break}return e.speed!=null&&(t.speed=e.speed>>>0),t},i.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.on=!1,n.color=null,n.effect=t.enums===String?"SOLID":0,n.speed=0),e.on!=null&&e.hasOwnProperty("on")&&(n.on=e.on),e.color!=null&&e.hasOwnProperty("color")&&(n.color=c.UsbComm.RgbState.HSB.toObject(e.color,t)),e.effect!=null&&e.hasOwnProperty("effect")&&(n.effect=t.enums===String?c.UsbComm.RgbState.Effect[e.effect]===void 0?e.effect:c.UsbComm.RgbState.Effect[e.effect]:e.effect),e.speed!=null&&e.hasOwnProperty("speed")&&(n.speed=e.speed),n},i.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},i.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UsbComm.RgbState"},i.HSB=function(){function o(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return o.prototype.h=0,o.prototype.s=0,o.prototype.b=0,o.create=function(t){return new o(t)},o.encode=function(t,n){return n||(n=v.create()),n.uint32(8).uint32(t.h),n.uint32(16).uint32(t.s),n.uint32(24).uint32(t.b),n},o.encodeDelimited=function(t,n){return this.encode(t,n).ldelim()},o.decode=function(t,n){t instanceof f||(t=f.create(t));let r=n===void 0?t.len:t.pos+n,l=new c.UsbComm.RgbState.HSB;for(;t.pos<r;){let d=t.uint32();switch(d>>>3){case 1:{l.h=t.uint32();break}case 2:{l.s=t.uint32();break}case 3:{l.b=t.uint32();break}default:t.skipType(d&7);break}}if(!l.hasOwnProperty("h"))throw u.ProtocolError("missing required 'h'",{instance:l});if(!l.hasOwnProperty("s"))throw u.ProtocolError("missing required 's'",{instance:l});if(!l.hasOwnProperty("b"))throw u.ProtocolError("missing required 'b'",{instance:l});return l},o.decodeDelimited=function(t){return t instanceof f||(t=new f(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":u.isInteger(t.h)?u.isInteger(t.s)?u.isInteger(t.b)?null:"b: integer expected":"s: integer expected":"h: integer expected"},o.fromObject=function(t){if(t instanceof c.UsbComm.RgbState.HSB)return t;let n=new c.UsbComm.RgbState.HSB;return t.h!=null&&(n.h=t.h>>>0),t.s!=null&&(n.s=t.s>>>0),t.b!=null&&(n.b=t.b>>>0),n},o.toObject=function(t,n){n||(n={});let r={};return n.defaults&&(r.h=0,r.s=0,r.b=0),t.h!=null&&t.hasOwnProperty("h")&&(r.h=t.h),t.s!=null&&t.hasOwnProperty("s")&&(r.s=t.s),t.b!=null&&t.hasOwnProperty("b")&&(r.b=t.b),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/UsbComm.RgbState.HSB"},o}(),i.Effect=function(){const o={},e=Object.create(o);return e[o[0]="SOLID"]=0,e[o[1]="BREATHE"]=1,e[o[2]="SPECTRUM"]=2,e[o[3]="SWIRL"]=3,e}(),i}(),a.RgbIndicator=function(){function i(o){if(o)for(let e=Object.keys(o),t=0;t<e.length;++t)o[e[t]]!=null&&(this[e[t]]=o[e[t]])}return i.prototype.enable=!1,i.prototype.brightnessActive=0,i.prototype.brightnessInactive=0,i.create=function(e){return new i(e)},i.encode=function(e,t){return t||(t=v.create()),e.enable!=null&&Object.hasOwnProperty.call(e,"enable")&&t.uint32(8).bool(e.enable),e.brightnessActive!=null&&Object.hasOwnProperty.call(e,"brightnessActive")&&t.uint32(16).uint32(e.brightnessActive),e.brightnessInactive!=null&&Object.hasOwnProperty.call(e,"brightnessInactive")&&t.uint32(24).uint32(e.brightnessInactive),t},i.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},i.decode=function(e,t){e instanceof f||(e=f.create(e));let n=t===void 0?e.len:e.pos+t,r=new c.UsbComm.RgbIndicator;for(;e.pos<n;){let l=e.uint32();switch(l>>>3){case 1:{r.enable=e.bool();break}case 2:{r.brightnessActive=e.uint32();break}case 3:{r.brightnessInactive=e.uint32();break}default:e.skipType(l&7);break}}return r},i.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},i.verify=function(e){return typeof e!="object"||e===null?"object expected":e.enable!=null&&e.hasOwnProperty("enable")&&typeof e.enable!="boolean"?"enable: boolean expected":e.brightnessActive!=null&&e.hasOwnProperty("brightnessActive")&&!u.isInteger(e.brightnessActive)?"brightnessActive: integer expected":e.brightnessInactive!=null&&e.hasOwnProperty("brightnessInactive")&&!u.isInteger(e.brightnessInactive)?"brightnessInactive: integer expected":null},i.fromObject=function(e){if(e instanceof c.UsbComm.RgbIndicator)return e;let t=new c.UsbComm.RgbIndicator;return e.enable!=null&&(t.enable=!!e.enable),e.brightnessActive!=null&&(t.brightnessActive=e.brightnessActive>>>0),e.brightnessInactive!=null&&(t.brightnessInactive=e.brightnessInactive>>>0),t},i.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.enable=!1,n.brightnessActive=0,n.brightnessInactive=0),e.enable!=null&&e.hasOwnProperty("enable")&&(n.enable=e.enable),e.brightnessActive!=null&&e.hasOwnProperty("brightnessActive")&&(n.brightnessActive=e.brightnessActive),e.brightnessInactive!=null&&e.hasOwnProperty("brightnessInactive")&&(n.brightnessInactive=e.brightnessInactive),n},i.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},i.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UsbComm.RgbIndicator"},i}(),a.EinkImage=function(){function i(o){if(o)for(let e=Object.keys(o),t=0;t<e.length;++t)o[e[t]]!=null&&(this[e[t]]=o[e[t]])}return i.prototype.id=0,i.prototype.bitsLength=0,i.prototype.bits=u.newBuffer([]),i.create=function(e){return new i(e)},i.encode=function(e,t){return t||(t=v.create()),t.uint32(8).uint32(e.id),e.bitsLength!=null&&Object.hasOwnProperty.call(e,"bitsLength")&&t.uint32(16).uint32(e.bitsLength),e.bits!=null&&Object.hasOwnProperty.call(e,"bits")&&t.uint32(26).bytes(e.bits),t},i.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},i.decode=function(e,t){e instanceof f||(e=f.create(e));let n=t===void 0?e.len:e.pos+t,r=new c.UsbComm.EinkImage;for(;e.pos<n;){let l=e.uint32();switch(l>>>3){case 1:{r.id=e.uint32();break}case 2:{r.bitsLength=e.uint32();break}case 3:{r.bits=e.bytes();break}default:e.skipType(l&7);break}}if(!r.hasOwnProperty("id"))throw u.ProtocolError("missing required 'id'",{instance:r});return r},i.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},i.verify=function(e){return typeof e!="object"||e===null?"object expected":u.isInteger(e.id)?e.bitsLength!=null&&e.hasOwnProperty("bitsLength")&&!u.isInteger(e.bitsLength)?"bitsLength: integer expected":e.bits!=null&&e.hasOwnProperty("bits")&&!(e.bits&&typeof e.bits.length=="number"||u.isString(e.bits))?"bits: buffer expected":null:"id: integer expected"},i.fromObject=function(e){if(e instanceof c.UsbComm.EinkImage)return e;let t=new c.UsbComm.EinkImage;return e.id!=null&&(t.id=e.id>>>0),e.bitsLength!=null&&(t.bitsLength=e.bitsLength>>>0),e.bits!=null&&(typeof e.bits=="string"?u.base64.decode(e.bits,t.bits=u.newBuffer(u.base64.length(e.bits)),0):e.bits.length>=0&&(t.bits=e.bits)),t},i.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.id=0,n.bitsLength=0,t.bytes===String?n.bits="":(n.bits=[],t.bytes!==Array&&(n.bits=u.newBuffer(n.bits)))),e.id!=null&&e.hasOwnProperty("id")&&(n.id=e.id),e.bitsLength!=null&&e.hasOwnProperty("bitsLength")&&(n.bitsLength=e.bitsLength),e.bits!=null&&e.hasOwnProperty("bits")&&(n.bits=t.bytes===String?u.base64.encode(e.bits,0,e.bits.length):t.bytes===Array?Array.prototype.slice.call(e.bits):e.bits),n},i.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},i.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UsbComm.EinkImage"},i}(),a})(),At=7504,Vt=24926,Bt=255,Mt=0,Gt=0;class Lt{constructor(i,o){R(this,"device");R(this,"epIn");R(this,"epOut");R(this,"queueIn");var e;this.onMessage=i,this.onDisconnected=o,(e=navigator.usb)==null||e.addEventListener("disconnect",()=>{this.onDisconnected(),this.device=void 0})}async open(){var e;const i=await((e=navigator.usb)==null?void 0:e.requestDevice({filters:[{vendorId:At,productId:Vt}]}));await i.open();const o=await jt(i);if(!o){await i.close();return}return await Kt(i,o[1]),this.epIn=o[0],this.epOut=o[1],this.device=i,setTimeout(()=>this.receive(),0),i}async close(){const i=this.device;this.device=void 0,i&&(this.onDisconnected(),await i.close())}async send(i){if(!this.device||!this.epOut)return;const{packetSize:o,endpointNumber:e}=this.epOut,t=O.MessageH2D.encodeDelimited(i).finish();for(let n=0;n<=t.length;n+=o){const r=t.subarray(n,n+o);if((await this.device.transferOut(e,r)).status!="ok")return}}async receive(){if(!(!this.device||!this.epIn))try{const i=await this.device.transferIn(this.epIn.endpointNumber,this.epIn.packetSize);if(i.status!="ok"||!i.data){setTimeout(()=>this.receive(),0);return}const o=new Uint8Array(i.data.buffer);if(this.queueIn=Ft(this.queueIn,o),i.data.byteLength<this.epIn.packetSize){try{const e=O.MessageD2H.decodeDelimited(this.queueIn);this.onMessage(e)}catch(e){console.error("Failed decoding response",e)}this.queueIn=void 0}setTimeout(()=>this.receive(),0)}catch(i){console.error("Failed reading device",i),this.close()}}}async function jt(a){for(const i of a.configurations)for(const o of i.interfaces)for(const e of o.alternates){if(e.interfaceClass!=Bt||e.interfaceSubclass!=Mt||e.interfaceProtocol!=Gt)continue;const t=e.endpoints.find(r=>r.direction=="in"&&r.type=="bulk"),n=e.endpoints.find(r=>r.direction=="out"&&r.type=="bulk");if(!(!t||!n))return await a.selectConfiguration(i.configurationValue),await a.claimInterface(o.interfaceNumber),await a.selectAlternateInterface(o.interfaceNumber,e.alternateSetting),[t,n]}}async function Kt(a,i){await a.transferOut(i.endpointNumber,O.MessageH2D.encodeDelimited({action:O.Action.NOP,nop:{}}).finish())}function Ft(a,i){return a?new Uint8Array([...a,...i]):i}const Ht=7504,qt=24926,xt=65300,nt=63,x=nt-1;class zt{constructor(i,o){R(this,"device");R(this,"reportOut");R(this,"queueIn");var e;this.onMessage=i,this.onDisconnected=o,(e=navigator.hid)==null||e.addEventListener("disconnect",()=>{this.onDisconnected(),this.device=void 0})}async open(){var e;const i=await((e=navigator.hid)==null?void 0:e.requestDevice({filters:[{vendorId:Ht,productId:qt}]})),o=$t(i);if(o)return await o[0].open(),this.device=o[0],this.reportOut=o[2].reportId,this.device.addEventListener("inputreport",t=>{this.handleInput(new Uint8Array(t.data.buffer))}),this.device}async close(){const i=this.device;this.device=void 0,i&&(this.onDisconnected(),await i.close())}async send(i){if(!this.device||!this.reportOut)return;const o=O.MessageH2D.encodeDelimited(i).finish();for(let e=0;e<=o.length;e+=x){const t=o.subarray(e,e+x),n=new Uint8Array(nt);n[0]=t.length,n.set(t,1),await this.device.sendReport(this.reportOut,n)}}handleInput(i){const o=i[0];if(this.queueIn=Jt(this.queueIn,i.subarray(1,1+o)),o!=x&&this.queueIn){try{const e=O.MessageD2H.decodeDelimited(this.queueIn);this.onMessage(e)}catch(e){console.error("Failed decoding response",e)}this.queueIn=void 0}}}function $t(a){for(const i of a)for(const{usagePage:o,inputReports:e,outputReports:t}of i.collections)if(o==xt&&(e==null?void 0:e.length)==1&&(t==null?void 0:t.length)==1)return[i,e[0],t[0]]}function Jt(a,i){return a?new Uint8Array([...a,...i]):i}const ot=B("version",()=>{const a=E(),i=M();async function o(){await(i==null?void 0:i.send({action:O.Action.VERSION,nop:{}}))}function e(n){return tt(()=>{var r,l;return!!((l=(r=a.value)==null?void 0:r.features)!=null&&l[n])})}function t(){a.value=void 0}return{version:a,getVersion:o,useFeature:e,$resetState:t}}),it=B("knob",()=>{const a=E(),i=E(),o=M();async function e(){await(o==null?void 0:o.send({action:O.Action.MOTOR_GET_STATE,nop:{}}))}async function t(){await(o==null?void 0:o.send({action:O.Action.KNOB_GET_CONFIG,nop:{}}))}async function n(b){await(o==null?void 0:o.send({action:O.Action.KNOB_SET_CONFIG,knobConfig:b}))}const r=j(100,b=>{i.value=b,n(b)});async function l(b){await(o==null?void 0:o.send({action:O.Action.KNOB_UPDATE_PREF,knobPref:b}))}const d=j(100,b=>{C(b),l(b)});function C(b){var s,D;if(i.value&&((D=(s=i.value)==null?void 0:s.prefs)!=null&&D[b.layerId])){const m=[...i.value.prefs];m[b.layerId]={...m[b.layerId],...b},i.value={...i.value,prefs:m}}}function k(){a.value=void 0,i.value=void 0}return{motorState:a,knobConfig:i,getMotorState:e,getKnobConfig:t,setKnobConfig:n,setKnobConfigThottled:r,updateKnobPref:l,updateKnobPrefThottled:d,$patchKnobPref:C,$resetState:k}}),Wt=B("rgb",()=>{const a=E(),i=E(),o=M();async function e(b){await(o==null?void 0:o.send({action:O.Action.RGB_CONTROL,rgbControl:{command:b}}))}async function t(){await(o==null?void 0:o.send({action:O.Action.RGB_GET_STATE,nop:{}}))}async function n(b){await(o==null?void 0:o.send({action:O.Action.RGB_SET_STATE,rgbState:b}))}const r=j(100,b=>{a.value=b,n(b)});async function l(){await(o==null?void 0:o.send({action:O.Action.RGB_GET_INDICATOR,nop:{}}))}async function d(b){await(o==null?void 0:o.send({action:O.Action.RGB_SET_INDICATOR,rgbIndicator:b}))}const C=j(100,b=>{i.value={...i.value,...b},d(b)});function k(){a.value=void 0,i.value=void 0}return{state:a,indicator:i,sendRgbControl:e,getRgbState:t,setRgbState:n,setRgbStateThottled:r,getRgbIndicator:l,setRgbIndicator:d,setRgbIndicatorThottled:C,$resetState:k}}),Zt=B("eink",()=>{const a=E(),i=M();async function o(t,n){await(i==null?void 0:i.send({action:O.Action.EINK_SET_IMAGE,einkImage:{id:t,bitsLength:n.length,bits:n}}))}function e(){a.value=void 0}return{einkImage:a,setEinkImage:o,$resetState:e}});var A=(a=>(a[a.USB_VENDOR=0]="USB_VENDOR",a[a.USB_HID=1]="USB_HID",a))(A||{});const M=B("usb",()=>{const a=E(),i=ot(),o=it(),e=Wt(),t=Zt();let n;function r(s){s.payload=="version"&&s.version&&i.$patch({version:s.version}),s.payload=="motorState"&&s.motorState&&o.$patch({motorState:s.motorState}),s.payload=="knobConfig"&&s.knobConfig&&o.$patch({knobConfig:s.knobConfig}),s.payload=="knobPref"&&s.knobPref&&o.$patchKnobPref(s.knobPref),s.payload=="rgbState"&&s.rgbState&&e.$patch({state:s.rgbState}),s.payload=="rgbIndicator"&&s.rgbIndicator&&e.$patch({indicator:s.rgbIndicator}),s.payload=="einkImage"&&s.einkImage&&t.$patch({einkImage:s.einkImage})}function l(){b(),i.$resetState(),o.$resetState(),e.$resetState(),t.$resetState()}async function d(s=0){if(s==0)n=new Lt(r,l);else if(s==1)n=new zt(r,l);else throw new Error(`Unsupported transport: ${A[s]}`);if(a.value=await n.open(),!a.value)throw new Error("Device not supported")}async function C(){await(n==null?void 0:n.close())}async function k(s){await(n==null?void 0:n.send(s))}function b(){a.value=void 0}return{device:a,open:d,close:C,send:k,$resetState:b}});function ye(a,i){const o=dt(a,"device");function e(){setTimeout(()=>{o.value&&i(o.value)},10)}pt(e),et(o,e)}const Qt=_("p",null,"ZMKX 需要浏览器支持 WebHID API 支持才能正常工作。",-1),Yt=_("p",null,"这是 HW-75 Dynamic 的控制面板。请点击左侧的「连接设备」，从弹出的窗口中选择 HW-75 Dynamic。",-1),X="https://github.com/xingrz/zmk-config_helloword_hw-75",Xt="https://www.google.com/chrome",te="https://www.microsoft.com/edge",ee=yt({__name:"App",setup(a){const i=`${X}/wiki/%E4%B8%8A%E4%BD%8D%E6%9C%BA%E9%A9%B1%E5%8A%A8`,o=!!navigator.hid,e=E(!1),t=mt(),n=tt(()=>[t.currentRoute.value.name]);function r({key:m}){t.replace({name:m})}const l=M(),d=ot(),C=it(),{device:k}=W(l),{version:b}=W(d);et(k,(m,I)=>{m&&!I?(q.success("设备已连接"),setTimeout(()=>d.getVersion(),0)):!m&&I&&q.info("设备已断开")});const s=E(!1);async function D(m=A.USB_HID){try{s.value=!0,await l.open(m)}catch(I){if(console.error(I),I instanceof Error){if(I.message.includes("No device selected"))return;q.error("设备连接失败")}}finally{s.value=!1}}return(m,I)=>{const V=U("a-button"),G=U("a-menu-item"),rt=U("a-menu"),ct=U("a-layout-sider"),F=U("a-alert"),lt=U("a-space"),at=U("router-view"),ft=U("a-layout-content"),ut=U("a-layout");return g(),P(ut,{class:T(m.$style.container)},{default:y(()=>[w(ct,{collapsed:e.value,"onUpdate:collapsed":I[2]||(I[2]=N=>e.value=N),breakpoint:"lg",style:{background:"none"}},{default:y(()=>[ht(_("div",{class:T(m.$style.logo)},"ZMKX",2),[[kt,!e.value]]),_("div",{class:T(m.$style.device)},[e.value?(g(),Z(Q,{key:0},[p(k)?(g(),P(V,{key:0,shape:"circle",size:"large",onClick:p(l).close},{icon:y(()=>[w(p(Ot))]),_:1},8,["onClick"])):(g(),P(V,{key:1,shape:"circle",size:"large",type:"primary",disabled:!o,loading:s.value,onClick:I[0]||(I[0]=()=>D(p(A).USB_HID))},{icon:y(()=>[w(p(Ct))]),_:1},8,["disabled","loading"]))],64)):(g(),Z(Q,{key:1},[p(k)?(g(),P(V,{key:0,shape:"round",size:"large",block:"",onClick:p(l).close},{default:y(()=>[S(" 断开设备 ")]),_:1},8,["onClick"])):(g(),P(V,{key:1,shape:"round",size:"large",block:"",type:"primary",disabled:!o,loading:s.value,onClick:I[1]||(I[1]=()=>D(p(A).USB_HID))},{default:y(()=>[S(" 连接设备 ")]),_:1},8,["disabled","loading"]))],64))],2),w(rt,{"selected-keys":n.value,mode:"inline",class:T(m.$style.nav),disabled:!p(k),onSelect:r},{default:y(()=>{var N,z,$;return[w(G,{key:"about"},{icon:y(()=>[w(p(gt))]),default:y(()=>[S(" 关于 ")]),_:1}),!((N=p(b))!=null&&N.features)||p(b).features.rgb?(g(),P(G,{key:"rgb"},{icon:y(()=>[w(p(It))]),default:y(()=>[S(" 灯效 ")]),_:1})):H("",!0),!((z=p(b))!=null&&z.features)||p(b).features.eink?(g(),P(G,{key:"eink"},{icon:y(()=>[w(p(St))]),default:y(()=>[S(" 墨水屏 ")]),_:1})):H("",!0),!(($=p(b))!=null&&$.features)||p(b).features.knob?(g(),P(G,{key:"motor"},{icon:y(()=>{var J;return[(J=p(C).knobConfig)!=null&&J.demo?(g(),P(p(Pt),{key:0})):(g(),P(p(vt),{key:1}))]}),default:y(()=>[S(" 电机 ")]),_:1})):H("",!0)]}),_:1},8,["selected-keys","class","disabled"])]),_:1},8,["collapsed"]),w(ft,{class:T({[m.$style.main]:!0,[m.$style.collapsed]:e.value})},{default:y(()=>[o?p(k)?(g(),P(at,{key:2},{default:y(({Component:N})=>[(g(),P(wt(N)))]),_:1})):(g(),P(lt,{key:1,direction:"vertical"},{default:y(()=>[w(F,{message:"提示",type:"info",class:T(m.$style.help)},{description:y(()=>[Yt,_("p",null,[S("本面板需要搭配 "),_("a",{href:X,target:"_blank"},"ZMK 固件"),S("使用。")])]),_:1},8,["class"]),w(F,{message:"更重要的提示",type:"warning",class:T(m.$style.help)},{description:y(()=>[_("p",null,[S("如你正在使用 20230207 之前的固件，请尝试 "),w(V,{type:"primary",loading:s.value,onClick:I[3]||(I[3]=()=>D(p(A).USB_VENDOR))},{default:y(()=>[S("备用方法")]),_:1},8,["loading"])]),_("p",null,[S("如仍然无法找到或无法连接设备，请参考 "),_("a",{href:i,target:"_blank"},"Wiki 上的相关说明"),S("。")])]),_:1},8,["class"])]),_:1})):(g(),P(F,{key:0,message:"浏览器不受支持",type:"error",class:T(m.$style.help)},{description:y(()=>[Qt,_("p",null,[S("建议使用最新版本的 "),_("a",{href:Xt,target:"_blank"},"Google Chrome"),S(" 或 "),_("a",{href:te,target:"_blank"},"Microsoft Edge"),S("。")])]),_:1},8,["class"]))]),_:1},8,["class"])]),_:1},8,["class"])}}}),ne="_container_371sn_6",oe="_logo_371sn_12",ie="_device_371sn_22",re="_nav_371sn_27",ce="_main_371sn_42",le="_collapsed_371sn_45",ae="_help_371sn_49",fe={container:ne,logo:oe,device:ie,nav:re,main:ce,collapsed:le,help:ae},ue=(a,i)=>{const o=a.__vccOpts||a;for(const[e,t]of i)o[e]=t;return o},be={$style:fe},se=ue(ee,[["__cssModules",be]]),K=_t(se);K.use(Ut);K.use(Et());K.use(Rt({history:Tt(),routes:[{path:"/",name:"about",component:()=>L(()=>import("./About-3ff7ea73.js"),["assets/About-3ff7ea73.js","assets/vendor-3bd669b1.js"])},{path:"/rgb",name:"rgb",component:()=>L(()=>import("./Rgb-033b127c.js"),["assets/Rgb-033b127c.js","assets/vendor-3bd669b1.js","assets/Rgb-fd7fdec3.css"])},{path:"/eink",name:"eink",component:()=>L(()=>import("./Eink-ca19e389.js"),["assets/Eink-ca19e389.js","assets/vendor-3bd669b1.js","assets/Eink-7f50cd58.css"])},{path:"/motor",name:"motor",component:()=>L(()=>import("./Motor-dd9498ba.js"),["assets/Motor-dd9498ba.js","assets/vendor-3bd669b1.js","assets/Motor-8a538b51.css"])}]}));K.mount("#app");export{O as U,ue as _,ot as a,Wt as b,Zt as c,it as d,ye as o,M as u};
